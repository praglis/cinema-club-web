<!DOCTYPE html>
<div class="grid-container">
  <h1> My Profile</h1>

  <h2>Account Data</h2>
  <div></div>

  <div class="list-container">
    <p>ID: <span>{{editedProfile.id}}</span></p>
    <p>
      Username: <span *ngIf="editedField != 'username'">{{editedProfile.username}}</span>
    </p>
    <section class="avatar-container">
      <p>Avatar: </p>
      <img src="../../../assets/images/default-avatar.png" alt="default avatar">
    </section>
    <p>Joined: {{editedProfile.enrolmentDate|date : 'mediumDate'}}</p>
    <p>Points: {{editedProfile.points}}</p>
  </div>

  <div class="button-container">
    <button class="submit-button" *ngIf="editedField != 'none'" (click)="onSubmit()">submit changes</button>
    <button>go to my preferences (>>)</button>
    <button>go to my movie library (>>)</button>
    <button>report a bug (!)</button>
    <button>delete account (X)</button>

  </div>
  <h2>Personal Data</h2>
  <div class="list-container">

    <p>
      Name: <span *ngIf="editedField != 'name'"> {{editedProfile.name}}</span>
      <input id="name" type="text" *ngIf="editedField == 'name'" [(ngModel)]="editedProfile.name">
    </p>

    <p>
      Last name: <span *ngIf=" editedField !='surname'">  {{editedProfile.surname}}</span>
      <input id=" surname" type="text" *ngIf="editedField == 'surname'" [(ngModel)]="editedProfile.surname"></p>
    <p>
      Birthday: <span *ngIf="editedField != 'birthdayDate'">  {{editedProfile.birthday|date : 'mediumDate'}}</span>
      <input id="birthdayDate" type="text" *ngIf="editedField == 'birthdayDate'" [(ngModel)]="editedProfile.birthday">
    </p>
    <p>
      Mail:  {{editedProfile.email}}
    </p>
    <p>
      Phone no.: <span *ngIf="editedField != 'phoneNo'">  {{editedProfile.phoneNo}}</span>
      <input id="phoneNo" type="text" *ngIf="editedField == 'phoneNo'" [(ngModel)]="editedProfile.phoneNo">
    </p>
    <p>
      Address: {{getCleanAddress(editedProfile)}}
    </p>
    <span *ngIf="editedField == 'address'" class="address-container">
      <br>
      Country: <input type="text" [(ngModel)]="editedProfile.address.country"><br>
      State: <input type="text" [(ngModel)]="editedProfile.address.state"><br>
      City: <input type="text" [(ngModel)]="editedProfile.address.city"><br>
      Street: <input type="text" [(ngModel)]="editedProfile.address.streetName"><br>
      House number: <input type="text" [(ngModel)]="editedProfile.address.houseNumber">

    </span>

  </div>

  <div class="edit-button-container">

    <button class="edit-button" (click)="edit('name')">edit</button>
    <button class="edit-button" (click)="edit('surname')">edit</button>
    <button class="edit-button" (click)="edit('birthdayDate')">edit</button>
    <span class="edit-span"></span>
    <button class="edit-button" (click)="edit('phoneNo')">edit</button>
    <button class="edit-button" (click)="edit('address')">edit</button>
    <span *ngIf="editedField == 'address'" class="address-container"></span>

  </div>

</div>
